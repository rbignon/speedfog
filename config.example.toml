# SpeedFog Configuration
# Copy this file to config.toml and edit as needed

[run]
# Seed for randomization. Behavior:
# - seed = 0 or omitted: auto-reroll until valid DAG found, display used seed
# - seed = 12345: force this seed, error if DAG generation fails
# Share a specific seed with friends for identical runs!
seed = 0

# Text displayed as a golden banner after defeating the final boss.
# Default: "RUN COMPLETE"
# run_complete_message = "RUN COMPLETE"

# Add a Site of Grace at Chapel of Anticipation (starting location).
# Default: true
# chapel_grace = true

[budget]
# Target total "weight" for each path through the game.
# Weight roughly corresponds to minutes (weight 30 ≈ 30-40 min of zones)
total_weight = 30

# Allowed variance from target weight.
# With total=30 and tolerance=5, paths can be 25-35 weight.
tolerance = 5

[requirements]
# Minimum number of legacy dungeons (Stormveil, Raya Lucaria, etc.)
# that must appear on every possible path.
legacy_dungeons = 1

# Minimum number of boss fights before reaching Radagon.
bosses = 5

# Minimum number of mini-dungeons (caves, catacombs, tunnels).
mini_dungeons = 5

[structure]
# Maximum number of parallel paths at any point.
# Higher = more choices, but harder to balance.
max_parallel_paths = 3

# Minimum number of "layers" (zones in sequence).
min_layers = 6

# Maximum number of layers.
max_layers = 10

# Enemy scaling tier for the final boss and end of run (1-28).
# Tiers control how much enemies are scaled up/down from vanilla.
# - Tier 1: starting area difficulty
# - Tier 28: maximum difficulty (default, vanilla endgame)
# - Tier 15-20: mid-game difficulty (good for shorter/easier runs)
# Intermediate zones scale linearly from 1 to this value.
final_tier = 28

# Probability of splitting into parallel branches at each layer.
split_probability = 0.3

# Probability of merging parallel branches back together.
merge_probability = 0.3

# Maximum fan-out per split/merge operation.
# Split: 1 entry → N exits (N up to max_branches).
# Merge: N entries → 1 exit (N up to max_branches).
# Higher values allow zones with more fog gates to be fully used.
# Actual fan-out depends on available clusters and room under max_parallel_paths.
max_branches = 3

# Force the first layer after start to be a specific cluster type.
# Options: "legacy_dungeon", "mini_dungeon", "boss_arena", "major_boss"
# If omitted: random based on requirements (current behavior)
# first_layer_type = "legacy_dungeon"

# Ratio of intermediate layers that can contain a major boss (0.0-1.0).
# 0.0 = no intermediate major bosses (default)
# 0.2 = roughly 20% of layers can be major bosses
# major_boss_ratio = 0.2

# Candidates for the final boss (zone names).
# One will be chosen randomly. Default: Radagon + Promised Consort Radahn.
# Use "all" to include all major bosses.
# Available major bosses:
#   caelid_radahn, haligtree_malenia, mohgwyn_boss, volcano_rykard,
#   stormveil_godrick, farumazula_maliketh, flamepeak_firegiant,
#   leyndell_erdtree (Radagon), leyndell_throne (Gideon),
#   enirilim_radahn (Promised Consort Radahn, DLC), etc.
# final_boss_candidates = ["all"]  # All major bosses
# final_boss_candidates = ["leyndell_erdtree"]  # Base game only (Radagon)
# final_boss_candidates = [
#     "leyndell_erdtree",
#     "enirilim_radahn",
#     "caelid_radahn",
#     "haligtree_malenia",
#     "mohgwyn_boss",
#     "volcano_rykard",
#     "farumazula_maliketh",
#     "flamepeak_firegiant",
# ]

[paths]
# Path to Elden Ring installation.
game_dir = "C:/Program Files/Steam/steamapps/common/ELDEN RING/Game"

# Output directory for generated mod files (default: ./seeds).
output_dir = "./seeds"

# Platform for running FogModWrapper. Options:
# - Omit or "auto": auto-detect (Wine on Linux, native on Windows)
# - "windows": native Windows execution
# - "linux": use Wine
# platform = "auto"

[starting_items]
# Items given at game start when picking up the Tarnished's Wizened Finger.
# These are awarded via EMEVD events using DirectlyGivePlayerItem (not affected by Item Randomizer).

# Key items for progression shortcuts
academy_key = true       # Academy Glintstone Key - opens Raya Lucaria
pureblood_medal = false  # Pureblood Knight's Medal - disabled (warp destination removed)
drawing_room_key = true  # Drawing-Room Key - access Volcano Manor interior
lantern = true           # Lantern - hands-free light source for dark areas
physick_flask = true     # Flask of Wondrous Physick - mix crystal tears for custom buffs
whetblades = true        # Whetstone Knife + all Whetblades - unlocks all weapon affinities

# Great Runes (restored versions, equippable at graces)
# These are the ACTIVATED versions (Good IDs 191-196), not the boss drops
# Set to true to give ALL Great Runes at start
great_runes = true

# Individual Great Rune toggles (only used if great_runes = false)
# rune_godrick = true
# rune_radahn = true
# rune_morgott = true
# rune_mohg = true
# rune_rykard = true
# rune_malenia = true

# DLC key items (given at start to prevent softlocks in DLC areas)
omother = true            # O, Mother - access Enir-Ilim inner area
welldepthskey = true      # Well Depths Key - access Belurat well area
gaolupperlevelkey = true  # Gaol Upper Level Key
gaollowerlevelkey = true  # Gaol Lower Level Key
holeladennecklace = true  # Hole-Laden Necklace - access Manus Metyr
messmerskindling = true   # Messmer's Kindling - progress through DLC

# Talisman Pouches - expand equip slots (0-3, default: 3 = 4 total slots)
# In vanilla, pouches come from Margit, Enia, and Godfrey - none guaranteed in SpeedFog
talisman_pouches = 3

# Consumable starting resources (awarded via EMEVD when picking up Finger)
# golden_seeds = 5       # Golden Seeds to upgrade flask uses (0-99)
# sacred_tears = 3       # Sacred Tears to upgrade flask potency (0-12)
# starting_runes = 50000 # Given as Lord's Rune items (50k each, use from inventory)
# larval_tears = 10      # Larval Tears for rebirth at Sites of Grace (0-99, default: 10)

[care_package]
# Randomized starting build - gives a random selection of weapons, armor,
# spells, and talismans at game start for immediate combat readiness.
# Items are sampled from data/care_package_items.toml using the run seed.
# Same seed = same starting build for consistent racing.
enabled = false

# Weapon upgrade level (standard smithing stones, 0-25).
# Somber weapons get floor(weapon_upgrade / 2.5), e.g. +8 -> +3 somber.
# weapon_upgrade = 8

# Per-category item counts (set to 0 to disable a category)
# weapons = 5          # Random melee weapons
# shields = 2          # Random shields
# catalysts = 2        # Random staves or seals
# talismans = 4        # Random talismans
# sorceries = 5        # Random sorceries
# incantations = 5     # Random incantations
# head_armor = 2       # Random helms
# body_armor = 2       # Random chest armor
# arm_armor = 2        # Random gauntlets
# leg_armor = 2        # Random leg armor
# crystal_tears = 5    # Random crystal tears for Flask of Wondrous Physick
# ashes_of_war = 0     # Random ashes of war (requires SpeedFog Racing DLL for runtime delivery)

[item_randomizer]
# Enable Item/Enemy Randomizer integration (default: true)
# Requires: python tools/setup_dependencies.py --itemrando <path>
enabled = true

# Item placement difficulty 0-100 (default: 50)
# Higher = powerful items more dispersed, key items harder to find
difficulty = 50

# Remove stat requirements on weapons and spells (default: true)
# Allows using any weapon regardless of STR/DEX/INT/FTH/ARC
remove_requirements = true

# Auto-upgrade weapons to player's highest upgrade level (default: true)
# New weapons match your current max, no manual upgrading needed
auto_upgrade_weapons = true

# Auto-upgrade items left on the ground when picked up (default: true)
# Dropped weapons/shields auto-match your upgrade level on pickup
auto_upgrade_dropped = true

# Reduce smithing stone cost to 1 per upgrade level for regular weapons (default: true)
# Somber weapons already cost 1 per level; this makes regular weapons match
reduce_upgrade_cost = true

# Randomize DLC (Shadow of the Erdtree) items and enemies (default: true)
# DLC enemies are mixed with base game (no separate silo)
dlc = true

# Disable damage tick in Valiant Gargoyles's poison cloud (default: true)
# Sets the magic damage of their poison attacks to 0
nerf_gargoyles = true

# Enable item placement preset (default: true)
# Weapons and talismans go to boss drops, seeds/tears to important locations.
item_preset = true
# Custom item preset YAML (default: built-in data/item_preset.yaml)
# item_preset_path = "/path/to/custom_preset.yaml"
