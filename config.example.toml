# SpeedFog Configuration
# Copy this file to config.toml and edit as needed

[run]
# Seed for randomization. Behavior:
# - seed = 0 or omitted: auto-reroll until valid DAG found, display used seed
# - seed = 12345: force this seed, error if DAG generation fails
# Share a specific seed with friends for identical runs!
seed = 0

[budget]
# Target total "weight" for each path through the game.
# Weight roughly corresponds to minutes (weight 30 â‰ˆ 30-40 min of zones)
total_weight = 30

# Allowed variance from target weight.
# With total=30 and tolerance=5, paths can be 25-35 weight.
tolerance = 5

[requirements]
# Minimum number of legacy dungeons (Stormveil, Raya Lucaria, etc.)
# that must appear on every possible path.
legacy_dungeons = 1

# Minimum number of boss fights before reaching Radagon.
bosses = 5

# Minimum number of mini-dungeons (caves, catacombs, tunnels).
mini_dungeons = 5

[structure]
# Maximum number of parallel paths at any point.
# Higher = more choices, but harder to balance.
max_parallel_paths = 3

# Minimum number of "layers" (zones in sequence).
min_layers = 6

# Maximum number of layers.
max_layers = 10

# Probability of splitting into parallel branches at each layer.
split_probability = 0.3

# Probability of merging parallel branches back together.
merge_probability = 0.3

# Maximum number of branches when splitting.
max_branches = 3

# Force the first layer after start to be a specific cluster type.
# Options: "legacy_dungeon", "mini_dungeon", "boss_arena", "major_boss"
# If omitted: random based on requirements (current behavior)
# first_layer_type = "legacy_dungeon"

# Ratio of intermediate layers that can contain a major boss (0.0-1.0).
# 0.0 = no intermediate major bosses (default)
# 0.2 = roughly 20% of layers can be major bosses
# major_boss_ratio = 0.2

# Candidates for the final boss (zone names).
# One will be chosen randomly. If omitted: Radagon only.
# Use "all" to include all major bosses.
# Available major bosses:
#   caelid_radahn, haligtree_malenia, mohgwyn_boss, volcano_rykard,
#   stormveil_godrick, farumazula_maliketh, flamepeak_firegiant,
#   leyndell_erdtree (Radagon), leyndell_throne (Gideon), etc.
# final_boss_candidates = ["all"]  # All major bosses
# final_boss_candidates = [
#     "leyndell_erdtree",
#     "caelid_radahn",
#     "haligtree_malenia",
#     "mohgwyn_boss",
#     "volcano_rykard",
#     "farumazula_maliketh",
#     "flamepeak_firegiant",
# ]

[paths]
# Path to Elden Ring installation.
game_dir = "C:/Program Files/Steam/steamapps/common/ELDEN RING/Game"

# Output directory for generated mod files.
output_dir = "./output"

# Path to cluster definitions file.
clusters_file = "./data/clusters.json"

# Optional: Path to Enemy/Item Randomizer mod output.
# If set, SpeedFog merges with this mod's EMEVD files as base.
# If omitted, SpeedFog uses vanilla game files.
# randomizer_dir = "./mods/randomizer"

# Platform for running FogModWrapper. Options:
# - Omit or "auto": auto-detect (Wine on Linux, native on Windows)
# - "windows": native Windows execution
# - "linux": use Wine
# platform = "auto"

[starting_items]
# Items given at game start when picking up the Tarnished's Wizened Finger.
# These are awarded via EMEVD events using DirectlyGivePlayerItem (not affected by Item Randomizer).

# Key items for progression shortcuts
academy_key = true       # Academy Glintstone Key - opens Raya Lucaria
pureblood_medal = true   # Pureblood Knight's Medal - warps to Mohgwyn Palace
drawing_room_key = true  # Drawing-Room Key - access Volcano Manor interior

# Great Runes (restored versions, equippable at graces)
# These are the ACTIVATED versions (Good IDs 191-196), not the boss drops
# Set to true to give ALL Great Runes at start
great_runes = true

# Individual Great Rune toggles (only used if great_runes = false)
# rune_godrick = true
# rune_radahn = true
# rune_morgott = true
# rune_mohg = true
# rune_rykard = true
# rune_malenia = true

# Consumable starting resources (awarded via EMEVD when picking up Finger)
# golden_seeds = 5       # Golden Seeds to upgrade flask uses (0-99)
# sacred_tears = 3       # Sacred Tears to upgrade flask potency (0-12)
# starting_runes = 50000 # Given as Lord's Rune items (50k each, use from inventory)

[item_randomizer]
# Enable Item/Enemy Randomizer integration (default: true)
# Requires: python tools/setup_dependencies.py --itemrando <path>
enabled = true

# Item placement difficulty 0-100 (default: 50)
# Higher = powerful items more dispersed, key items harder to find
difficulty = 50

# Remove stat requirements on weapons and spells (default: true)
# Allows using any weapon regardless of STR/DEX/INT/FTH/ARC
remove_requirements = true

# Auto-upgrade weapons to player's highest upgrade level (default: true)
# New weapons match your current max, no manual upgrading needed
auto_upgrade_weapons = true
