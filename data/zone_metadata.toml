# Zone Metadata for SpeedFog Cluster Generation
#
# This file defines default weights per zone type and optional
# zone-specific overrides for cluster weight calculations.
#
# weight = approximate traversal time in minutes
#
# Multi-zone cluster weights use logarithmic aggregation:
#   cluster_weight = round(avg_zone_weight * (1 + 0.5 * ln(n_zones)))
# This reflects that players traverse a path through zones, not all of them.

[defaults]
# Default weights by zone type
legacy_dungeon = 5
mini_dungeon = 3
major_boss = 4
boss_arena = 2
underground = 6
start = 1
final_boss = 4
other = 2

# Zone-specific overrides
# Format: [zones.zone_name]
#         weight = X

# Base game legacy dungeons
[zones.stormveil]
weight = 8

[zones.stormveil_start]
weight = 4

[zones.academy]
weight = 6

[zones.academy_entrance]
weight = 3

[zones.academy_rooftops]
weight = 4

[zones.academy_courtyard]
weight = 3

[zones.leyndell]
weight = 10

[zones.leyndell_sanctuary]
weight = 3

[zones.volcano]
weight = 6

[zones.haligtree]
weight = 8

[zones.farumazula]
weight = 8

# Large catacombs
[zones.gelmir_hero_grave]
weight = 6

[zones.giant_conquering_hero_grave]
weight = 6

# Type overrides
[zones.volcano_abductors]
type = "boss_arena"

# Boss arenas with non-default weights
[zones.academy_library]
weight = 3

[zones.haligtree_malenia]
weight = 5

# =============================================================================
# DLC - Shadow of the Erdtree
# =============================================================================

# DLC Final Boss
[zones.enirilim_radahn]
type = "final_boss"
weight = 5

# DLC Legacy Dungeons (type override: m20_ maps not in legacy_prefixes heuristic)
[zones.belurat]
type = "legacy_dungeon"
weight = 6

[zones.ensis]
type = "legacy_dungeon"

[zones.shadowkeep]
type = "legacy_dungeon"
weight = 6

[zones.shadowkeep_church]
type = "legacy_dungeon"

[zones.storehouse]
type = "legacy_dungeon"

[zones.midramanse]
type = "legacy_dungeon"

# DLC Mini Dungeons (longer than base game, ~6 min each)
[zones.gravesite_catacombs]
weight = 6

[zones.gravesite_forge]
weight = 6

[zones.gravesite_gaol]
weight = 6

[zones.ellac_cave]
weight = 6

[zones.rauhbase_catacombs]
weight = 6

[zones.rauhbase_forge]
weight = 6

[zones.scadualtus_forge]
weight = 6

[zones.scadualtus_gaol]
weight = 6

# DLC Exclusions (zones that don't work well as independent clusters)
[zones.fissure_boss]
exclude = true

[zones.rauhruins_postromina]
exclude = true

[zones.graveyard_cave]
exclude = true

# Auriza Side Tomb: confusing trap-chest dungeon, monopolizes split(3/4) at mb=4
[zones.outskirts_sidetomb]
exclude = true
